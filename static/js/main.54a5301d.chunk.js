(this["webpackJsonptcom-test-react"]=this["webpackJsonptcom-test-react"]||[]).push([[0],{29:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),a=n.n(c),s=n(18),i=n.n(s),u=n(11),o=(n(42),n(7)),j=n(14),b=Object(j.b)({name:"live",initialState:{news:[],tops:[],page:0,size:30,currentLive:[]},reducers:{setNews:function(e,t){e.news=t.payload},setTops:function(e,t){e.tops=t.payload},setPage:function(e,t){e.page=t.payload},setCurrentLive:function(e,t){e.currentLive=t.payload}}}),p=b.actions,f=p.setNews,l=p.setTops,d=p.setCurrentLive,v=p.setPage,O=Object(j.b)({name:"app",initialState:{currentPage:"",menu:["new","past","comments","ask","show","jobs","submit"]},reducers:{setCurrentPage:function(e,t){e.currentPage=t.payload}}}),h=(O.actions.setCurrentPage,Object(o.c)({live:b.reducer,app:O.reducer})),m=Object(j.a)({reducer:h}),x=(n(43),n(21)),w=n(5),k=(n(29),n(31)),y=n(32);n(44);var N=function(e){var t=e.index,n=e.item;return Object(r.jsxs)("div",{className:"Wrapper",children:[Object(r.jsxs)("div",{className:"LineOne",children:[Object(r.jsxs)("div",{className:"Rank",children:[t,"."]}),Object(r.jsx)("div",{className:"Votearrow"}),Object(r.jsx)("a",{href:n.url,children:n.title}),Object(r.jsxs)("div",{className:"By",children:["\xa0",function(e){try{var t=new URL(e);return"(".concat(t.hostname.replace("www",""),")")}catch(n){return""}}(n.url)]})]}),Object(r.jsxs)("div",{className:"LineTwo",children:[n.score," ","points by",n.by,function(e){if(e){var t=Object(k.a)(e.toString(),"t",new Date);return Object(y.a)(t)}return""}(n.time)," ","|"," ",n.descendants]})]})},g=n(12),L=n.n(g),E=n(15),P="https://hacker-news.firebaseio.com/v0",C=function(){var e=Object(E.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P,"/").concat(t,"stories.json?print=pretty"));case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(E.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P,"/item/").concat(t,".json?print=pretty"));case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(E.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:n=e.sent,e.t0=t,e.next="new"===e.t0?6:"top"===e.t0?8:10;break;case 6:return m.dispatch(f(n)),e.abrupt("break",11);case 8:return m.dispatch(l(n)),e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(E.a)(L.a.mark((function e(t,n,r){var c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.slice(t*n,t*n+n),e.next=3,Promise.all(c.map((function(e){return M(e)})));case 3:a=e.sent,m.dispatch(d(a));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var T=function(){var e=Object(u.c)((function(e){return e.live})),t=e.tops,n=e.size,a=e.page,s=e.currentLive,i=Object(u.b)();return Object(c.useEffect)((function(){i(v(0))}),[]),Object(c.useEffect)((function(){I("top")}),[a,n]),Object(c.useEffect)((function(){S(a,n,t)}),[t]),Object(r.jsxs)("div",{className:"LiveItems",children:[s.map((function(e,t){return Object(r.jsx)(N,{index:t+1+a*n,item:e},e.id)})),Object(r.jsx)("div",{className:"More",onClick:function(){i(v(a+1))},children:"More"})]})};var z=function(){var e=Object(u.c)((function(e){return e.live})),t=e.news,n=e.size,a=e.page,s=e.currentLive,i=Object(u.b)();return Object(c.useEffect)((function(){i(v(0))}),[]),Object(c.useEffect)((function(){I("new")}),[a,n]),Object(c.useEffect)((function(){S(a,n,t)}),[t]),Object(r.jsxs)("div",{className:"LiveItems",children:[s.map((function(e,t){return Object(r.jsx)(N,{index:t+1+a*n,item:e},e.id)})),Object(r.jsx)("div",{className:"More",onClick:function(){i(v(a+1))},children:"More"})]})};n(46),n(47);var B=function(){var e=Object(u.c)((function(e){return e.app})).menu;return Object(r.jsx)("div",{className:"Menu",children:e.map((function(t,n){return Object(r.jsxs)(x.b,{to:"/".concat(t),className:"Item",children:[t,n!==e.length-1?" | ":"","\xa0"]},t)}))})};var H=function(){return Object(r.jsxs)("div",{className:"Header",children:[Object(r.jsx)("img",{src:"https://news.ycombinator.com/y18.gif",alt:"",width:"18",height:"18"}),Object(r.jsx)("div",{className:"Title",children:"Hacker News"}),Object(r.jsx)(B,{})]})};var J=function(){return Object(r.jsx)(x.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(H,{}),Object(r.jsxs)(w.c,{children:[Object(r.jsx)(w.a,{path:"/new",children:Object(r.jsx)(z,{})}),Object(r.jsx)(w.a,{path:"/",children:Object(r.jsx)(T,{})})]})]})})};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(u.a,{store:m,children:Object(r.jsx)(J,{})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.54a5301d.chunk.js.map